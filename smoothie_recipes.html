<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Przepiśnik</title>
    <link href="https://fonts.googleapis.com/css?family=Clicker+Script|Playball|Stalemate&display=swap&subset=latin-ext"
        rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <script src="/js/main.js" defer></script>
</head>

<body>

    <div class="container">
        <header class="header">
            <h2>Przepiśnik</h2>
        </header>

        <nav class="menu">
            <div class="snack-category">
                <a href="snack_recipes.html">
                    <h3>Przekąski</h3>
                </a>
            </div>
            <div class="salad-category">
                <a href="salad_recipes.html">
                    <h3>Sałatki</h3>
                </a>
            </div>
            <div class="meat-category">
                <a href="meat_recipes.html">
                    <h3>Dania mięsne</h3>
                </a>
            </div>
            <div class="vege-category">
                <a href="vege_recipes.html">
                    <h3>Dania vege</h3>
                </a>
            </div>
            <div class="soup-category">
                <a href="soup_recipes.html">
                    <h3>Zupy</h3>
                </a>
            </div>
            <div class="sweet-category">
                <a href="sweet_recipes.html">
                    <h3>Na słodko</h3>
                </a>
            </div>
            <div class="smoothie-category">
                <a href="smoothie_recipes.html">
                    <h3>Koktajle</h3>
                </a>
            </div>
        </nav>

        <section class="smoothie-recipes">
            <header class="smoothie-recipes_title">
                <h3>Koktajle</h3>
            </header>

            <div class="smoothie-recipes_list">
                <ul>
                </ul>

                <div class="add-recipe-btn">
                    <a href="/new_recipe.html?category=smoothie">Dodaj nowy przepis</a>
                </div>
            </div>
        </section>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // wyświetlenie przepisów z localStorage 
            function renderRecipesList() {
                let allRecipes = JSON.parse(localStorage.getItem("recipes"));
                const smoothieRecipesList = document.querySelector(".smoothie-recipes_list ul");

                allRecipes.forEach(function (singleRecipe, i) {
                    let newTitle = document.createElement("li");
                    let newTitleLink = document.createElement("a");
                    if (singleRecipe.category === "smoothie") {
                        newTitleLink.href = `/show_recipe.html?category=smoothie&id=${i}`;
                        newTitleLink.innerHTML = singleRecipe.title;
                        newTitle.appendChild(newTitleLink);
                        smoothieRecipesList.appendChild(newTitle);
                    }
                });
                // zmiana opacity po kliknięciu smoothie-category
                const smoothieInMenu = document.querySelector(".smoothie-category");
                smoothieInMenu.style.opacity = "1";
            }
            window.addEventListener("load", renderRecipesList, false);
        });
    </script>
</body>

</html>